<div>

  <div class="modal-header">
    <button type="button" ng-click="cancel()" class="close">Ã—</button>
    <h2 class="multiline">
      Supporting technology relationships
      <span class="sub">{{ title }}</span>
    </h2>
  </div>

  <div class="modal-body">

    <section class="form-item">
      <label>Search for related supporting technologies</label>
      <input type="text" ng-model="modalContainer.search" placeholder="Insert your search here..." autofocus="autofocus" typeahead="match.title as match.inherited_title for match in searchSupportingTechnology($viewValue)" typeahead-on-select="onSelectSupportingTechnology($item)"></select>
    </section>

    <section class="form-item">
      <label>Current selections</label>
      <table class="table table-bordered" ng-if="relationships.length > 0">
        <tbody>
          <tr ng-repeat="item in relationships">
            <td>
              <div class="form-item" style="margin-top:  6px;">
                <input type="text" ng-model="item.name" ng-disabled="true"/>
              </div>
              <div class="row-fluid">
                <div class="form-item span6">
                  <label>Type</label>
                  <select ng-model="item.type_id" ng-options="type.id as type.name for type in dcRelationTypes"></select>
                </div>
                <div class="form-item span6">
                  <label>Description</label>
                  <input type="text" ng-model="item.description"/>
                </div>
              </div>
            </td>
            <td>
              <a href class="btn btn-mini btn-danger" ng-click="delete($index)">Delete</a>
            </td>
          </tr>
        </tbody>
      </table>
      <div class="alert" ng-if="relationships.length == 0">You haven't selected any supporting technology record yet!</div>
    </section>

  </div>

  <div class="modal-footer">
    <button class="btn btn-primary" ng-click="save()">Save</button>
    <button class="btn" ng-click="deleteAll()" ng-if="relationships.length > 0">Remove all the relationships</button>
    <button class="btn btn-cancel" ng-click="cancel()">Cancel</button>
  </div>

</div>
